{"version":3,"sources":["treyyoder:war/war.js"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,c;AACA,W;AACA,e;AACA,e;AACA,e;AACA,e;AACA,yB;AACA,S;AACA,2B;AACA,wC;AACA,mC;AACA,uC;AACA,kC;AACA,yB;AACA,mC;AACA,sC;AACA,0D;AACA,0B;AACA,4B;AACA,2B;AACA,M;AACA,G;AACA,2B;AACA,G;;AAEA,yB;AACA,mC;AACA,sC;AACA,0D;AACA,0B;AACA,4B;AACA,2B;AACA,M;AACA,G;AACA,2B;AACA,G;AACA,yB;AACA,mC;AACA,sC;AACA,0D;AACA,0B;AACA,4B;AACA,2B;AACA,M;AACA,G;AACA,2B;AACA,G;AACA,yB;AACA,mC;AACA,sC;AACA,0D;AACA,8C;AACA,4B;AACA,2B;AACA,M;AACA,G;AACA,2B;AACA,G;AACA,mC;AACA,6C;AACA,yC;AACA,Y;AACA,sE;AACA,4B;AACA,8B;AACA,6B;;AAEA,Q;AACA,G;AACA,qC;AACA,G;;AAEA,oB;AACA,sD;AACA,c;AACA,sB;AACA,U;AACA,4C;AACA,2C;AACA,sB;AACA,kC;AACA,O;AACA,mE;AACA,oC;AACA,U;AACA,U;AACA,4C;AACA,2C;AACA,sB;AACA,kC;AACA,O;AACA,mE;AACA,iC;AACA,U;AACA,U;AACA,4C;AACA,2C;AACA,sB;AACA,kC;AACA,O;AACA,mE;AACA,8B;AACA,U;AACA,U;AACA,4C;AACA,2C;AACA,sB;AACA,kC;AACA,O;AACA,mE;AACA,qC;AACA,U;AACA,I;;AAEA,uB;AACA,oB;AACA,uB;AACA,K;;AAEA,mD;;AAEA,wD;AACA,+C;;AAEA,qD;;AAEA,G;AACA,G;AACA,uD;AACA,0C;;AAEA,mD;AACA,yE;;AAEA,oC;;AAEA,gI;AACA,oD;AACA,0C;AACA,qC;AACA,U;AACA,G;;AAEA,iG;AACA,+C;AACA,mE;AACA,yC;AACA,E;AACA,C","file":"/packages/treyyoder_war.js","sourcesContent":["Meteor.War = {\n\ttbms : 20,\n\tmissle : null,\n\tusflag : null,\n\tnkflag : null,\n\tsrflag : null,\n\tnuclearExplosion : null,\n\tms:5000,\n\tdetonationDistance : 100,\t\n\tpentaPoint : [ 38.870991, -77.055955 ],\n\tmoscow : [ 55.754915, 37.617218 ],\n\tpyongyang : [ 39.038897, 125.763194 ],\n\tNYC : [ 40.712576, -74.006514 ],\t\n\tgetMissle : function() {\n\t\tif (Meteor.War.missle === null) {\n\t\t\treturn Meteor.War.missle = L.icon({\n\t\t\t\ticonUrl : '/packages/treyyoder_war/images/missle.png',\n\t\t\t\ticonSize : [ 20, 40 ],\n\t\t\t\ticonAnchor : [ 7.5, 0 ],\n\t\t\t\tpopupAnchor : [ 0, 40 ]\n\t\t\t});\n\t\t}\n\t\treturn Meteor.War.missle;\n\t},\n\n\tgetUSflag : function() {\n\t\tif (Meteor.War.usflag === null) {\n\t\t\treturn Meteor.War.usflag = L.icon({\n\t\t\t\ticonUrl : '/packages/treyyoder_war/images/usflag.png',\n\t\t\t\ticonSize : [ 20, 40 ],\n\t\t\t\ticonAnchor : [ 7.5, 0 ],\n\t\t\t\tpopupAnchor : [ 0, 40 ]\n\t\t\t});\n\t\t}\n\t\treturn Meteor.War.usflag;\n\t},\n\tgetNKflag : function() {\n\t\tif (Meteor.War.nkflag === null) {\n\t\t\treturn Meteor.War.nkflag = L.icon({\n\t\t\t\ticonUrl : '/packages/treyyoder_war/images/nkflag.png',\n\t\t\t\ticonSize : [ 20, 40 ],\n\t\t\t\ticonAnchor : [ 7.5, 0 ],\n\t\t\t\tpopupAnchor : [ 0, 40 ]\n\t\t\t});\n\t\t}\n\t\treturn Meteor.War.nkflag;\n\t},\n\tgetSRflag : function() {\n\t\tif (Meteor.War.srflag === null) {\n\t\t\treturn Meteor.War.srflag = L.icon({\n\t\t\t\ticonUrl : '/packages/treyyoder_war/images/srflag.png',\n\t\t\t\ticonSize : [ 20, 40 ], // size of the icon\n\t\t\t\ticonAnchor : [ 7.5, 0 ],\n\t\t\t\tpopupAnchor : [ 0, 40 ]\n\t\t\t});\n\t\t}\n\t\treturn Meteor.War.srflag;\n\t},\n\tgetNuclearExplosion : function() {\n\t\tif (Meteor.War.nuclearExplosion === null) {\n\t\t\treturn Meteor.War.nuclearExplosion = L\n\t\t\t\t\t.icon({\n\t\t\t\t\t\ticonUrl : '/packages/treyyoder_war/images/nuclearExplosion.png',\n\t\t\t\t\t\ticonSize : [ 30, 40 ],\n\t\t\t\t\t\ticonAnchor : [ 7.5, 0 ],\n\t\t\t\t\t\tpopupAnchor : [ 0, 40 ]\n\n\t\t\t\t\t});\n\t\t}\n\t\treturn Meteor.War.nuclearExplosion;\n\t},\n\n\tinit : function() {\n\t\tfor (var tbmc = 0; tbmc < Meteor.War.tbms; tbmc++) {\n\t\t\tvar ms = 50\n\t\t\tswitch (tbmc % 4) {\n\t\t\tcase 0:\n\t\t\t\tvar marker = new L.Marker(Meteor.leafnav\n\t\t\t\t\t\t.getRandomLatLng(window.LUtil.map), {\n\t\t\t\t\tdraggable : true,\n\t\t\t\t\ticon : Meteor.War.getNKflag()\n\t\t\t\t});\n\t\t\t\tvar interval = setInterval(Meteor.War.directMarkerLocation, ms,\n\t\t\t\t\t\tmarker, Meteor.War.pyongyang);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvar marker = new L.Marker(Meteor.leafnav\n\t\t\t\t\t\t.getRandomLatLng(window.LUtil.map), {\n\t\t\t\t\tdraggable : true,\n\t\t\t\t\ticon : Meteor.War.getSRflag()\n\t\t\t\t});\n\t\t\t\tvar interval = setInterval(Meteor.War.directMarkerLocation, ms,\n\t\t\t\t\t\tmarker, Meteor.War.moscow);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvar marker = new L.Marker(Meteor.leafnav\n\t\t\t\t\t\t.getRandomLatLng(window.LUtil.map), {\n\t\t\t\t\tdraggable : true,\n\t\t\t\t\ticon : Meteor.War.getUSflag()\n\t\t\t\t});\n\t\t\t\tvar interval = setInterval(Meteor.War.directMarkerLocation, ms,\n\t\t\t\t\t\tmarker, Meteor.War.NYC);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvar marker = new L.Marker(Meteor.leafnav\n\t\t\t\t\t\t.getRandomLatLng(window.LUtil.map), {\n\t\t\t\t\tdraggable : true,\n\t\t\t\t\ticon : Meteor.War.getMissle()\n\t\t\t\t});\n\t\t\t\tvar interval = setInterval(Meteor.War.directMarkerLocation, ms,\n\t\t\t\t\t\tmarker, Meteor.War.pentaPoint);\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar markInterval = {\n\t\t\t\tmarker : marker,\n\t\t\t\tinterval : interval\n\t\t\t};\n\n\t\t\tMeteor.leafnav.markIntervals.push(markInterval);\n\n\t\t\tMeteor.leafnav.rotateMarker(markInterval.marker, 90);\n\t\t\tmarkInterval.marker.addTo(window.LUtil.map);\n\n\t\t\tmarker.bindPopup(\"<b>Interval:</b> \" + ms / 1000);\n\n\t\t}\n\t},\n\tdirectMarkerLocation : function(marker, destination) {\n\t\tvar currBearing = marker.getIconAngle();\n\n\t\tvar latlon = Meteor.leafnav.calculateNewPosition(\n\t\t\t\tMeteor.leafnav.getCurrentPosition(marker), 25, marker.getIconAngle())\n\n\t\tmarker.setLatLng(latlon).update();\n\n\t\tif (Meteor.leafnav.getDistance(Meteor.leafnav.getCurrentPosition(marker), destination, \"K\") < Meteor.War.detonationDistance) {\n\t\t\tmarker.setIcon(Meteor.War.getNuclearExplosion());\n\t\t\tMeteor.leafnav.rotateMarker(marker, 0);\n\t\t\tMeteor.leafnav.stopMarker(marker);\n\t\t\treturn;\n\t\t}\n\n\t\tvar bearing = Meteor.leafnav.getBearing(Meteor.leafnav.getCurrentPosition(marker), destination)\n\t\tMeteor.leafnav.rotateMarker(marker, bearing);\n\t\tmarker.setPopupContent(\"<b>Interval:</b> \" + Meteor.War.ms / 1000\n\t\t\t\t+ \"<br> <b>Bearing:</b> \" + bearing);\n\t}\n}"]}